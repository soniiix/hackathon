{% extends 'base.html.twig' %}

{% block title %}Hackat'Agence - Mes hackathons
{% endblock %}

{% block body %}

	<div class="container">
		<br>
		<div class="shadow p-3 mb-5 bg-white rounded">
			<h1>Liste de vos hackathons</h1>
		</div>

		<!-- message de succès en cas d'inscription à un hackathon réussie -->
		{% for message in app.flashes('success') %}
			<div class="alert alert-success" role="alert">
				<h5>{{ message }}</h5>
			</div>
			<br>
    	{% endfor %}
		<!-- avertissement en cas d'inscription à un hackathon échouée -->
		{% for message in app.flashes('failure') %}
			<div class="alert alert-danger" role="alert">
				<h5>{{ message }}</h5>
			</div>
			<br>
    	{% endfor %}

		<div class="container">

			<!-- affichage des hackathons auxquels l'utilisateur est inscrit -->
			<div class="row">
				{% set i = 0 %}
				{% for uneInscription in lesInscriptions %}
					<div class="card" style="width: 20rem;">
						<div class="card-body">
							<h5 class="card-title">{{uneInscription.leHackathon.titre}}</h5>
							<p class="card-text">
								<strong>Date :</strong>
								{{uneInscription.leHackathon.dateDebut|date('d/m/Y')}}
							</p>

							<div class="accordion" id="accordionExample">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_{{i}}">
											Détails
										</button>
									</h2>
									<div id="collapse_{{i}}" class="accordion-collapse collapse">
										<div class="accordion-body">
											<p>
												<strong>Adresse :</strong>
												{{uneInscription.leHackathon.rue}},
												{{uneInscription.leHackathon.codePostal}},
												{{uneInscription.leHackathon.ville}}
											</p>
											<p>
												<strong>Dates précises :</strong>
												<br>
												Du
												{{uneInscription.leHackathon.dateDebut|date('d/m/Y')}}
												à
												{{uneInscription.leHackathon.heureDebut|date('H:i')}}
												<br>
												Au
												{{uneInscription.leHackathon.dateFin|date('d/m/Y')}}
												à
												{{uneInscription.leHackathon.heureFin|date('H:i')}}
											</p>
										</div>
									</div>
								</div>
							</div>
							{% set i = i + 1 %}
						</div>

					</div>
				{% endfor %}
			</div><br>
			
		</div>
		<br>

		<div class="row">
			<div class="col-2 align-self-start">
				<div class="shadow p-3 mb-5 bg-white rounded">
					<h2>Favoris</h2>
				</div>
			</div>
		</div>

		<!-- affichage des hackathons ajoutés en favoris par l'utilisateur -->
		<div class="container">
			<div class="row">
				{% set i = 0 %}
				{% for unFavori in lesFavoris %}
					<div class="card" style="width: 20rem;">
						<div class="card-body">
							<h5 class="card-title">{{unFavori.leHackathon.titre}}</h5>
							<p class="card-text">
								<strong>Date :</strong>
								{{unFavori.leHackathon.dateDebut|date('d/m/Y')}}
							</p>

							<div class="accordion" id="accordionExample">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_{{i}}">
											Détails
										</button>
									</h2>
									<div id="collapse_{{i}}" class="accordion-collapse collapse">
										<div class="accordion-body">
											<p>
												<strong>Adresse :</strong>
												{{unFavori.leHackathon.rue}},
												{{unFavori.leHackathon.codePostal}},
												{{unFavori.leHackathon.ville}}
											</p>
											<p>
												<strong>Dates précises :</strong>
												<br>
												Du
												{{unFavori.leHackathon.dateDebut|date('d/m/Y')}}
												à
												{{unFavori.leHackathon.heureDebut|date('H:i')}}
												<br>
												Au
												{{unFavori.leHackathon.dateFin|date('d/m/Y')}}
												à
												{{unFavori.leHackathon.heureFin|date('H:i')}}
											</p>
										</div>
									</div>
								</div>
							</div>
							{% set i = i + 1 %}
						</div>

					</div>
				{% endfor %}
			</div><br>
		</div>

	</div>
{% endblock %}
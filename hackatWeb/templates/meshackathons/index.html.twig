{% extends 'base.html.twig' %}

{% block title %}Hackat'Agence - Liste des hackathons
{% endblock %}

{% block body %}

	<div class="container">
		<br>
		<div class="shadow p-3 mb-5 bg-white rounded">
			<h1>Liste de vos hackathons</h1>
		</div>

		{% for message in app.flashes('success') %}
			<div class="alert alert-success" role="alert">
				<h5>{{ message }}</h5>
			</div>
			<br>
    	{% endfor %}
		{% for message in app.flashes('failure') %}
			<div class="alert alert-danger" role="alert">
				<h5>{{ message }}</h5>
			</div>
			<br>
    	{% endfor %}

		<div class="container">
			<!-- barre de recherche -->
			<nav class="navbar">
				<div class="container-fluid">
					<a class="navbar-brand"></a>
					<form class="d-flex" role="search" id="searchForm">
					 	<input class="form-control me-2" type="search" placeholder="Rechercher" aria-label="Search" id="searchInput">
						&nbsp;
						<button class="btn btn-primary" type="button" id="searchButton">OK</button>
					</form>
				</div>
			</nav><br>

			<!-- affichage des hackathons -->
			<div class="row">
				{% set i = 0 %}
				{% for uneInscription in lesInscriptions %}
					<div class="card" style="width: 20rem;">
						<div class="card-body">
							<h5 class="card-title">{{uneInscription.leHackathon.titre}}</h5>
							<p class="card-text">
								<strong>Date :</strong>
								{{uneInscription.leHackathon.dateDebut|date('d/m/Y')}}
							</p>

							<div class="accordion" id="accordionExample">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse_{{i}}">
											Détails
										</button>
									</h2>
									<div id="collapse_{{i}}" class="accordion-collapse collapse">
										<div class="accordion-body">
											<p>
												<strong>Adresse :</strong>
												{{uneInscription.leHackathon.rue}},
												{{uneInscription.leHackathon.codePostal}},
												{{uneInscription.leHackathon.ville}}
											</p>
											<p>
												<strong>Dates précises :</strong>
												<br>
												Du
												{{uneInscription.leHackathon.dateDebut|date('d/m/Y')}}
												à
												{{uneInscription.leHackathon.heureDebut|date('H:i')}}
												<br>
												Au
												{{uneInscription.leHackathon.dateFin|date('d/m/Y')}}
												à
												{{uneInscription.leHackathon.heureFin|date('H:i')}}
											</p>
										</div>
									</div>
								</div>
							</div>
							{% set i = i + 1 %}
						</div>

					</div>
				{% endfor %}
			</div><br>
		</div>
	</div>
{% endblock %}

